<!DOCTYPE html>
<html lang="ko">
  <!-- prettier-ignore -->
  @@include("head.html",{
    "title" : "Gallery | Newsroom",
    "og" : {
      "desc" : null,
      "image" : null,
      "url" : null,
    }
  })
  <body>
    <div class="wrapper">
      <main class="main"></main>

      <!-- ---------- popup ---------- -->
      <!-- 
        팝업 노출 클래스 : show
        팝업 크기 클래스 : popup-full
        갤러리 팝업 공통 클래스 : popup-gallery
      -->
      <div class="popup popup-full popup-gallery show">
        <div class="popup-container">
          <div class="popup-body">
            <div class="gallery-content">
              <div class="gallery-title">
                <p>Hyundai and the road to carbon neutrality</p>
                <!-- [231017] element 구조 변경 -->
                <button type="button" class="popup-close" title="popup close"></button>
              </div>
              <!-- [231017] element 구조 변경 -->
              <div class="gallery-swiper-box">
                <div class="swiper-controller">
                  <div class="swiper-button-prev"></div>
                  <div class="swiper-button-next"></div>
                </div>
                <div class="swiper gallery-swiper">
                  <div class="swiper-wrapper">
                    <div class="swiper-slide">
                      <!-- [수정20230825] 비디오 유투브 변경-->
                      <div class="video-box">
                        <div class="video">
                          <div class="yt-player" data-id="UFzSpG7MXKo"></div>
                        </div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <!-- [수정20230825] 비디오 유투브 변경-->
                      <div class="video-box">
                        <div class="video">
                          <div class="yt-player" data-id="8107K_VHlcE"></div>
                        </div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <!-- [수정20230825] 비디오 유투브 변경-->
                      <div class="video-box">
                        <div class="video">
                          <div class="yt-player" data-id="UFzSpG7MXKo"></div>
                        </div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <!-- [수정20230825] 비디오 유투브 변경-->
                      <div class="video-box">
                        <div class="video">
                          <div class="yt-player" data-id="8107K_VHlcE"></div>
                        </div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <!-- [수정20230825] 비디오 유투브 변경-->
                      <div class="video-box">
                        <div class="video">
                          <div class="yt-player" data-id="UFzSpG7MXKo"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="swiper-custom-bottom">
                <div class="gallery-util-box">
                  <!-- [231017] element 구조 변경 -->
                  <div class="util-left-box">
                    <div class="util-left-top-box">
                      <div class="detail-link-area">
                        <div class="link-gray-box">
                          <a href="javascript:void(0);">Hydrogen</a>
                          <a href="javascript:void(0);">XCIENT Fuel Cell Truck</a>
                        </div>
                      </div>
                    </div>
                    <div class="util-left-bottom-box">
                      <div class="file-info first-info">
                        <span>Added : Jun 20, 2023</span>
                        <span>ID : 55145</span>
                      </div>
                      <div class="file-info icon-gallery-video"><span>video</span></div>
                    </div>
                  </div>
                </div>
                <!-- <div class="swiper-pagination-thumb"></div> -->
                <div class="swiper thumb-swiper">
                  <div class="swiper-wrapper">
                    <div class="swiper-slide">
                      <img class="lazy" data-src="../../assets/images/newsroom/img_gallery_pop_gallery01.jpg" alt="gallery01" />
                      <div class="thumb-hover-box">
                        <div class="thumb-title">Hyundai and the road to carbon neutrality</div>
                        <div class="thumb-date">Jun 23 2023</div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <img class="lazy" data-src="../../assets/images/newsroom/img_gallery_pop_gallery02.jpg" alt="gallery02" />
                      <div class="thumb-hover-box">
                        <div class="thumb-title">titletitletitletitletitletitle</div>
                        <div class="thumb-date">Jun 23 2023</div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <img class="lazy" data-src="../../assets/images/newsroom/img_gallery_pop_gallery03.jpg" alt="gallery03" />
                      <div class="thumb-hover-box">
                        <div class="thumb-title">title3</div>
                        <div class="thumb-date">Jun 23 2023</div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <img class="lazy" data-src="../../assets/images/newsroom/img_gallery_pop_gallery04.jpg" alt="gallery04" />
                      <div class="thumb-hover-box">
                        <div class="thumb-title">title4</div>
                        <div class="thumb-date">Jun 23 2023</div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <img class="lazy" data-src="../../assets/images/newsroom/img_gallery_pop_gallery02.jpg" alt="gallery02" />
                      <div class="thumb-hover-box">
                        <div class="thumb-title">title5</div>
                        <div class="thumb-date">Jun 23 2023</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="dim"></div>
      </div>
      <!-- ---------- //popup ---------- -->
    </div>
    <!-- prettier-ignore -->
    @@include("link_js.html", {
      "datepicker" : true,
      "masonry" : false,
      "parallax" : true
    })

    <script>

      document.addEventListener('DOMContentLoaded', function () {
        function loadPlayer(target, swiper) { 
          if (typeof(YT) == 'undefined' || typeof(YT.Player) == 'undefined') {

            var tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            window.onYouTubePlayerAPIReady = function() {
              onYouTubeIframeAPIReady(target);
            };

          } else {

            onYouTubeIframeAPIReady(target);

          }
        }

        function onYouTubeIframeAPIReady(target) {
          var swiper = target;
          var slides = swiper.getElementsByClassName('swiper-slide')
          
          var players = [];
          
          for (var i=0; i < slides.length; i++) {
            var element = slides[i].getElementsByClassName('yt-player')[0];
            var id = element.getAttribute('data-id');
            
            var player = new YT.Player(element, {
              videoId: id,
              playerVars: {
                'rel' : 0,
              }
            });
            players.push(player);
          }

          var thumbSwiper = new Swiper('.thumb-swiper', {
            loop: false,
            spaceBetween: 2,
            slidesPerView: 4,
            freeMode: true,
            watchSlidesProgress: false,
            breakpoints: {
              768: {
                spaceBetween: 25,
                slidesPerView: 4,
              },
            },
          });

          var gallerySwiper = new Swiper('.gallery-swiper', {
            loop: true,
            effect: 'fade',
            spaceBetween: 10,
            navigation: {
              nextEl: '.gallery-swiper-box .swiper-button-next',
              prevEl: '.gallery-swiper-box .swiper-button-prev',
            },
            thumbs: {
              swiper: thumbSwiper,
            },
            on: {
              slideChange: function() {   
                players[gallerySwiper.previousIndex].pauseVideo();
              }
            }
          });
          
        }

        const target = document.querySelector('.gallery-swiper');
        loadPlayer(target);
      
      });
      
    </script>

    <script>

    </script>
  </body>
</html>
