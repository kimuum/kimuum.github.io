<!DOCTYPE html>
<html lang="ko">
  <!-- prettier-ignore -->
  @@include('head.html', { "headTitle": "소액결제 이용동의 하기 | 소액결제 내역 | 요금 | 마이알뜰폰", "titleHidden": "" })
  <body>
    <!-- prettier-ignore -->
    @@include('google_tag_manager.html')

    <div class="skip">
      <a href="#contentContainer">본문 바로가기</a>
      <a href="#gnbContainer" class="pcType">주메뉴 바로 가기</a>
      <a href="#footerMenu">푸터 바로가기</a>
    </div>
    <!-- //skip -->

    <!-- 페이지 고유클래스 : microPayment -->
    <div class="wrap detail microPayment">
      <!-- prettier-ignore -->
      @@include('header.html', {
        'mythrifty' : { 'firstMenu' : 'active', 'aria-selected' : 'true', secondMenu: 'active-4', 'thirdMenu': '' },
        'product' : { 'firstMenu' : '', 'aria-selected' : 'false', 'secondMenu' : '', 'thirdMenu' : '' },
        'usim' : { 'firstMenu' : '', 'aria-selected' : 'false', 'secondMenu' : '', 'thirdMenu' : '' },
        'event' : { 'firstMenu' : '', 'aria-selected' : 'false', 'secondMenu' : '', 'thirdMenu' : '' },
        'support' : { 'firstMenu' : '', 'aria-selected' : 'false', 'secondMenu' : '', 'thirdMenu' : '' },
        'service' : { 'firstMenu' : '', 'aria-selected' : 'false', 'secondMenu' : '', 'thirdMenu' : '' }
      })
      <!-- //END headerContainer -->

      <main class="contentContainer" id="contentContainer">
        <div class="pageTitleContainer">
          <div class="pageTitleContent">
            <div class="titleAreaLeft">
              <div class="title">
                <button type="button" class="titleArrow" title="이전 페이지로 이동"></button>
                <h2>휴대폰 소액결제 이용동의</h2>
              </div>
            </div>
            <div class="titleAreaRight">
              <div class="breadcrumbContainer">
                <span class="breadcrumb iconBgHome"><span class="ir">홈</span></span>
                <div class="breadcrumb">
                  <span class="breadcrumbTitle"><span>마이알뜰폰</span></span>
                  <div class="breadcrumbDrop">
                    <button type="button" class="breadcrumbBtn" aria-expanded="false" title="대메뉴 목록"></button>
                    <!-- prettier-ignore -->
                    @@include('../component/breadcrumb_drop_depth_1.html')
                  </div>
                  <!-- //breadcrumbDrop -->
                </div>
                <div class="breadcrumb">
                  <span class="breadcrumbTitle"><span>소액결제 내역</span></span>
                  <div class="breadcrumbDrop">
                    <button type="button" class="breadcrumbBtn" aria-expanded="false" title="중메뉴 목록"></button>
                    <!-- prettier-ignore -->
                    @@include('../component/breadcrumb_drop_myThrifty.html')
                  </div>
                  <!-- //breadcrumbDrop -->
                </div>
                <div class="breadcrumb">
                  <span class="breadcrumbTitle"><span>휴대폰 소액결제 이용동의</span></span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- //END pageTitleContainer -->

        <div class="contentArea">
          <div class="contentInner">
            <div class="formContainer">
              <div class="formItemArea">
                <div class="formInner">
                  <div class="field fieldData typePhoneLine">
                    <!-- prettier-ignore -->
                    @@include('../component/phone_line_info_area.html', {
                      "image": false,
                      "infoBox" : [
                        {
                          "product": "[KT엠모바일] 모두다 맘껏 11GB+",
                          "price": "32,980원",
                          "phoneNumber": "010-81**-*319",
                          "label": true
                        },
                      ],
                    })
                  </div>
                  <!-- //회선 정보 -->

                  <div class="field fieldInput">
                    <label for="inputName" class="fieldLabel">이름</label>
                    <div class="fieldForm">
                      <div class="input">
                        <input type="text" id="inputName" placeholder="이름을 입력해주세요." />
                      </div>
                    </div>
                  </div>
                  <!-- //이름 -->

                  <div class="field fieldInput">
                    <label for="inputBD" class="fieldLabel">생년월일</label>
                    <div class="fieldForm">
                      <div class="input">
                        <input type="text" id="inputBD" placeholder="생년월일을 입력해주세요.(예 19990626)" />
                      </div>
                    </div>
                  </div>
                  <!-- //생년월일 -->

                  <div class="field fieldRadio">
                    <div class="fieldLabel">성별</div>
                    <div class="fieldForm">
                      <div class="fieldWhiteBox space">
                        <div class="radio">
                          <input type="radio" id="gender-1" name="gender" checked="" />
                          <label for="gender-1" class="radioLabel"><span>남</span></label>
                        </div>
                        <div class="radio">
                          <input type="radio" id="gender-2" name="gender" />
                          <label for="gender-2" class="radioLabel"><span>여</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- //성별 -->
                  <div class="field fieldCaptcha">
                    <div class="fieldLabel">보안문자</div>
                    <div class="captchaWrap">
                      <div class="captchaImg">
                        <img src="../../assets/images/common/img_captcha01.jpg" alt="" />
                      </div>
                      <div class="captchaBtn">
                        <input type="button" class="btn iconRefresh" value="새로고침" />
                        <input type="button" class="btn iconVoice" value="음성으로 듣기" />
                      </div>
                    </div>
                  </div>
                  <div class="field fieldInput">
                    <div class="fieldLabel">자동입력방지문자</div>
                    <div class="fieldForm">
                      <div class="input">
                        <input type="text" id="input-id-03" title="자동입력방지문자" placeholder="위 이미지를 보이는 대로 입력해주세요." />
                      </div>
                    </div>
                  </div>
                  <!-- //보안문자 -->

                  <!-- 약관 -->
                  <div class="typeAgreementGroup">
                    <div class="field fieldCheckbox fieldAllCheck">
                      <div class="fieldForm">
                        <div class="checkbox">
                          <input type="checkbox" id="allCheckBox" />
                          <label for="allCheckBox" class="checkboxLabel"><span class="checkIcon"></span><span>전체 동의</span></label>
                        </div>
                      </div>
                    </div>

                    <div class="typeAgreementCheck agreementAccordion11">
                      <div class="field fieldCheckbox">
                        <div class="fieldForm">
                          <div class="checkbox">
                            <input type="checkbox" id="agreeCheck01" />
                            <span class="checkboxLabel">
                              <span class="checkIcon"></span>
                            </span>
                          </div>
                        </div>
                        <label for="agreeCheck01" class="fieldLabel">KT 통신과금서비스 이용약관(필수)</label>
                        <button type="button" class="btnOpenAgree" aria-expanded="false"><span>KT 통신과금서비스 이용약관(필수) 열기</span></button>
                      </div>
                      <div class="field fieldData">
                        <div class="fieldArea" tabindex="0">약관내용</div>
                      </div>
                    </div>
                    <!-- //KT 통신과금서비스 이용약관(필수) -->

                    <div class="typeAgreementCheck agreementAccordion12">
                      <div class="field fieldCheckbox">
                        <div class="fieldForm">
                          <div class="checkbox">
                            <input type="checkbox" id="agreeCheck12" />
                            <span class="checkboxLabel">
                              <span class="checkIcon"></span>
                            </span>
                          </div>
                        </div>
                        <label for="agreeCheck12" class="fieldLabel">개인정보 수집・이용 동의(필수)</label>
                        <button type="button" class="btnOpenAgree" aria-expanded="false"><span>개인정보 수집・이용 동의(필수) 열기</span></button>
                      </div>
                      <div class="field fieldData">
                        <div class="fieldArea" tabindex="0">약관내용</div>
                      </div>
                    </div>
                    <!-- //개인정보 수집・이용 동의(필수) -->

                    <div class="typeAgreementCheck agreementAccordion13">
                      <div class="field fieldCheckbox">
                        <div class="fieldForm">
                          <div class="checkbox">
                            <input type="checkbox" id="agreeCheck13" />
                            <span class="checkboxLabel">
                              <span class="checkIcon"></span>
                            </span>
                          </div>
                        </div>
                        <label for="agreeCheck13" class="fieldLabel">개인정보 취급위탁(필수)</label>
                        <button type="button" class="btnOpenAgree" aria-expanded="false"><span>개인정보 취급위탁(필수) 열기</span></button>
                      </div>
                      <div class="field fieldData">
                        <div class="fieldArea" tabindex="0">약관내용</div>
                      </div>
                    </div>
                    <!-- //개인정보 취급위탁(필수) -->

                    <div class="typeAgreementCheck agreementAccordion14">
                      <div class="field fieldCheckbox">
                        <div class="fieldForm">
                          <div class="checkbox">
                            <input type="checkbox" id="agreeCheck14" />
                            <span class="checkboxLabel">
                              <span class="checkIcon"></span>
                            </span>
                          </div>
                        </div>
                        <label for="agreeCheck14" class="fieldLabel">개인정보 제3자 제공(필수)</label>
                        <button type="button" class="btnOpenAgree" aria-expanded="false"><span>개인정보 제3자 제공(필수) 열기</span></button>
                      </div>
                      <div class="field fieldData">
                        <div class="fieldArea" tabindex="0">약관내용</div>
                      </div>
                    </div>
                    <!-- //개인정보 제3자 제공(필수) -->
                  </div>
                  <!-- //약관 -->

                  <div class="typeCaution">
                    <ul class="fieldArea marginBtmReset">
                      <li class="fieldValue">휴대폰 소액결제 이용 동의 시 월 300,000원의 이용한도가 부여되며, 결제 시 통신요금에 합산하여 다음달 청구됩니다.</li>
                      <li class="fieldValue">이용한도 추가 상향 시 월 1,000,000원까지 이용가능합니다.</li>
                    </ul>
                  </div>
                </div>
                <div class="buttonArea">
                  <button type="button" class="btn btnSecondary"><span>취소</span></button>
                  <button type="button" class="btn btnPrimary"><span>인증번호 요청</span></button>
                  <!-- [VOS2차] 결함 ID 112201,1122061,1122074,1122010, 1122142 타이틀 속성 삭제 -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- //END contentArea -->
      </main>
      <!-- //END contentContainer -->

      <!-- prettier-ignore -->
      @@include('footer.html')
      <!-- //END footerContainer -->
    </div>
    <!-- //END wrap -->

    <!-- Start Script -->
    <script>
      $(document).ready(function () {
        commonEvent();

        // KT 통신과금서비스 이용약관(필수)
        accordionControl('.agreementAccordion11 .btnOpenAgree', '.agreementAccordion11 .fieldData', '.agreementAccordion11', 'KT 통신과금서비스 이용약관(필수) 열기', 'KT 통신과금서비스 이용약관(필수) 닫기');
        // 개인정보 수집・이용 동의(필수)
        accordionControl('.agreementAccordion12 .btnOpenAgree', '.agreementAccordion12 .fieldData', '.agreementAccordion12', '개인정보 수집・이용 동의(필수) 열기', '개인정보 수집・이용 동의(필수) 닫기');
        // 개인정보 취급위탁(필수)
        accordionControl('.agreementAccordion13 .btnOpenAgree', '.agreementAccordion13 .fieldData', '.agreementAccordion13', '개인정보 취급위탁(필수) 열기', '개인정보 취급위탁(필수) 닫기');
        // 개인정보 제3자 제공(필수)
        accordionControl('.agreementAccordion14 .btnOpenAgree', '.agreementAccordion14 .fieldData', '.agreementAccordion14', '개인정보 제3자 제공(필수) 열기', '개인정보 제3자 제공(필수) 닫기');
        // [VOS2차] 결함 ID 1121748, 1121760 일부약관 해제시 전체약관 동의 해제되지 않는 결함 수정 - 시작
        $(window).on('load', function () {
          var $agreeGroup = $(document).find('.typeAgreementGroup');
          var $fieldAllCheck = $agreeGroup.find('.fieldAllCheck');
          var $fieldAgreeCheck = $agreeGroup.find('.typeAgreementCheck');
          var allCheck = false;
          var checkCount = 0;

          // 약관 전체 동의 체크 이벤트 //
          $fieldAllCheck.find('input:checkbox').on('change', function (e) {
            var $this = $(this);

            // 체크됨 //
            if ($this.prop('checked', true)) {
              $fieldAgreeCheck.each(function () {
                $childCheckbox = $(this).find('input:checkbox');
                $childCheckbox.prop('checked', true);
              });
            }
          });

          // 각 약관 동의 체크 이벤트 //
          $fieldAgreeCheck.find('input:checkbox').on('change', function (e) {
            var $this = $(this);
            var $parent = $this.closest('.typeAgreementCheck');
            var index = $fieldAgreeCheck.index($parent);

            watchCheckbox($this);
          });

          // 약관 체크 상태 확인 함수 //
          function watchCheckbox($checkbox) {
            if ($checkbox.is(':checked')) {
              checkCount++;
            } else {
              checkCount--;
            }

            if (checkCount == $fieldAgreeCheck.length) {
              allCheck = true;
              $fieldAllCheck.find('input:checkbox').prop('checked', true);
            } else {
              allCheck = false;
              $fieldAllCheck.find('input:checkbox').prop('checked', false);
            }
          }
        });
        // [VOS2차] 결함 ID 1121748, 1121760 일부약관 해제시 전체약관 동의 해제되지 않는 결함 수정 - 끝
      });
    </script>
  </body>
</html>
