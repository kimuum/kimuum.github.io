<!DOCTYPE html>
<html lang="ko">
  <!-- prettier-ignore -->
  @@include('head.html', { "headTitle": "이용자 대시보드 | 통계 | " , "headProjectName": "통합채널 관리자" })

  <body>
    <div class="skip">
      <a href="#contentWrapper ">본문 바로가기</a>
      <a href="#lnbContainer">주메뉴 바로 가기</a>
    </div>
    <!-- //skip -->

    <div class="wrap">
      <!-- prettier-ignore -->
      @@include('headerSuper.html')
      <!-- //END headerContainer -->

      <main class="contentContainer">
        <!-- prettier-ignore -->
        @@include('lnbSuper.html')
        <!-- //END lnbWrapper -->

        <!-- 본문 시작 -->
        <div class="contentWrapper" id="contentWrapper">
          <div class="pageTitleContainer">
            <div class="pageTitleContent">
              <div class="titleAreaLeft">
                <h1 class="title">
                  <span>이용자 대시보드</span>
                </h1>
              </div>
              <div class="titleAreaRight">
                <div class="breadcrumbContainer">
                  <a href="javascript:void(0);" class="breadcrumb iconBgHome" title="홈으로"></a>
                  <div class="breadcrumb">
                    <a href="javascript:void(0);" class="breadcrumbTitle"><span>통계</span></a>
                  </div>
                  <div class="breadcrumb">
                    <a href="javascript:void(0);" class="breadcrumbTitle"><span>이용자 대시보드</span></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- //END pageTitleContainer -->

          <div class="dashBoardContainer dashBoardListSuperUser">
            <div class="boardSearchBar">
              <div class="searchTop">
                <h2>조회 조건</h2>
                <div class="buttonArea">
                  <button type="button" class="btn btnLineGray"><span>초기화</span></button>
                  <button type="button" class="btn"><span>조회</span></button>
                </div>
              </div>
              <div class="searchBottom">
                <div class="searchRow">
                  <div class="title">조회기간</div>
                  <div class="fieldGroup">
                    <div class="periodWrap">
                      <div class="field fieldDatepicker" id="datepicker-start-date">
                        <label class="ir" for="input-start-date">시작 날짜 선택 : 2022년 03월 09일</label>
                        <div class="fieldForm datePickerArea">
                          <input type="text" id="input-start-date" class="singleDatePicker" value="" autocomplete="off" tabindex="-1" />
                        </div>
                      </div>
                      <div class="space"></div>
                      <div class="field fieldDatepicker" id="datepicker-end-date">
                        <label class="ir" for="input-end-date">끝 날짜 선택 : 2022년 03월 16일</label>
                        <div class="fieldForm datePickerArea">
                          <input type="text" id="input-end-date" class="singleDatePicker" value="" autocomplete="off" tabindex="-1" />
                        </div>
                      </div>
                    </div>
                    <div class="sortButtons">
                      <button type="button" class="btn"><span>오늘</span></button>
                      <button type="button" class="btn"><span>최근 7일</span></button>
                      <button type="button" class="btn active"><span>최근 30일</span></button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="boardWrap">
              <div class="boardFlexWrap rowHalf">
                <div class="boardContent bgColorGray rowHalf">
                  <div class="boardAreaTop noneBorder">
                    <h3 class="topTitle">조회 기간 증가한 회원가입 수</h3>
                  </div>
                  <div class="boardAreaBottom">
                    <div class="userCountContainer">
                      <div class="mainCounter">
                        <strong class="number">248</strong>
                        <span>명</span>
                      </div>
                      <div class="totalCounter">
                        <div class="title">전체 회원 수</div>
                        <div class="counter">
                          <strong class="number">12,890</strong>
                          <span>명</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="boardContent bgColorGray rowHalf">
                  <!-- [2차BO] 20221020 클래스 bgColorGray 추가 -->
                  <div class="boardAreaTop noneBorder">
                    <h3 class="topTitle">조회 기간 증가한 정회원 수</h3>
                  </div>
                  <div class="boardAreaBottom">
                    <div class="userCountContainer">
                      <div class="mainCounter">
                        <strong class="number">208</strong>
                        <span>명</span>
                      </div>
                      <div class="totalCounter">
                        <div class="title">전체 정회원 수</div>
                        <div class="counter">
                          <strong class="number">9,890</strong>
                          <span>명</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="boardContent bgColorGray rowFull">
                  <div class="boardAreaTop noneBorder">
                    <h3 class="topTitle">정회원 회원 비중</h3>
                  </div>
                  <div class="boardAreaBottom">
                    <div class="circleTwinWrap">
                      <div class="caseCountCircle left">
                        <div class="couterTotal">
                          <p class="title">정회원 비율</p>
                          <p class="counter">83.9%</p>
                          <p class="label">조회 기간 가입 회원 기준</p>
                        </div>
                        <canvas id="userRate01" style="width: auto; height: 118px"></canvas>
                      </div>
                      <div class="caseCountCircle right">
                        <div class="couterTotal">
                          <p class="title">정회원 비율</p>
                          <p class="counter">76.7%</p>
                          <p class="label">전체 회원 기준</p>
                        </div>
                        <canvas id="userRate02" style="width: auto; height: 118px"></canvas>
                      </div>
                    </div>
                    <div class="bottomSubInfo">
                      <p>정회원 전환(회선 등록) 평균 소요 시간</p>
                      <strong>0일 3시간 28분</strong>
                    </div>
                  </div>
                </div>
              </div>
              <!-- [2차BO] 20221020 수정 -->
              <div class="boardContent rowHalf">
                <div class="boardAreaTop noneBorder">
                  <h3 class="topTitle">주간 서비스 방문 현황(로그인 기준)</h3>
                </div>
                <div class="boardAreaBottom">
                  <button type="button" class="btn btnFloat"><span>GA 바로가기</span></button>
                  <div class="boardField">
                    <div class="fieldGraphSticks graphRow lable3Type">
                      <div class="parcentGuide">
                        <span>250</span>
                        <span>200</span>
                        <span>150</span>
                        <span>100</span>
                        <span>50</span>
                        <span>0</span>
                      </div>
                      <div class="fieldGraphGroup">
                        <div class="fieldGraph">
                          <div class="graphUnit">
                            <div class="stickArea">
                              <div class="stick labelCyan" style="height: 1%">
                                <p class="label"><span class="ir">Web</span> 2</p>
                              </div>
                              <div class="stick labelOrange" style="height: 1%">
                                <p class="label"><span class="ir">iOS(App)</span> 1</p>
                              </div>
                              <div class="stick labelBlue" style="height: 1%">
                                <p class="label"><span class="ir">And(App)</span> 1</p>
                              </div>
                            </div>
                            <span class="dete">22-08-03</span>
                          </div>
                          <div class="graphUnit">
                            <div class="stickArea">
                              <div class="stick labelCyan" style="height: 1%">
                                <p class="label"><span class="ir">Web</span> 2</p>
                              </div>
                              <div class="stick labelOrange" style="height: 1%">
                                <p class="label"><span class="ir">iOS(App)</span> 1</p>
                              </div>
                              <div class="stick labelBlue" style="height: 1%">
                                <p class="label"><span class="ir">And(App)</span> 1</p>
                              </div>
                            </div>
                            <span class="dete">22-08-04</span>
                          </div>
                          <div class="graphUnit">
                            <div class="stickArea">
                              <div class="stick labelCyan" style="height: 1%">
                                <p class="label"><span class="ir">Web</span> 2</p>
                              </div>
                              <div class="stick labelOrange" style="height: 1%">
                                <p class="label"><span class="ir">iOS(App)</span> 1</p>
                              </div>
                              <div class="stick labelBlue" style="height: 1%">
                                <p class="label"><span class="ir">And(App)</span> 1</p>
                              </div>
                            </div>
                            <span class="dete">22-08-05</span>
                          </div>
                          <div class="graphUnit">
                            <div class="stickArea">
                              <div class="stick labelCyan" style="height: 50%">
                                <p class="label"><span class="ir">Web</span> 150</p>
                              </div>
                              <div class="stick labelOrange" style="height: 20%">
                                <p class="label"><span class="ir">iOS(App)</span> 60</p>
                              </div>
                              <div class="stick labelBlue" style="height: 30%">
                                <p class="label"><span class="ir">And(App)</span> 90</p>
                              </div>
                            </div>
                            <span class="dete">22-08-06</span>
                          </div>
                          <div class="graphUnit">
                            <div class="stickArea">
                              <div class="stick labelCyan" style="height: 50%">
                                <p class="label"><span class="ir">Web</span> 150</p>
                              </div>
                              <div class="stick labelOrange" style="height: 20%">
                                <p class="label"><span class="ir">iOS(App)</span> 60</p>
                              </div>
                              <div class="stick labelBlue" style="height: 30%">
                                <p class="label"><span class="ir">And(App)</span> 90</p>
                              </div>
                            </div>
                            <span class="dete">22-08-07</span>
                          </div>
                          <div class="graphUnit">
                            <div class="stickArea">
                              <div class="stick labelCyan" style="height: 50%">
                                <p class="label"><span class="ir">Web</span> 150</p>
                              </div>
                              <div class="stick labelOrange" style="height: 20%">
                                <p class="label"><span class="ir">iOS(App)</span> 60</p>
                              </div>
                              <div class="stick labelBlue" style="height: 30%">
                                <p class="label"><span class="ir">And(App)</span> 90</p>
                              </div>
                            </div>
                            <span class="dete">22-08-08</span>
                          </div>
                          <div class="graphUnit">
                            <div class="stickArea">
                              <div class="stick labelCyan" style="height: 100%">
                                <p class="label"><span class="ir">Web</span> 250</p>
                              </div>
                              <div class="stick labelOrange" style="height: 50%">
                                <p class="label"><span class="ir">iOS(App)</span> 125</p>
                              </div>
                              <div class="stick labelBlue" style="height: 50%">
                                <p class="label"><span class="ir">And(App)</span> 125</p>
                              </div>
                            </div>
                            <span class="dete">22-08-09</span>
                          </div>
                        </div>
                        <div class="graphLegend">
                          <div class="legendCyan"><span>Web</span></div>
                          <div class="legendOrange"><span>iOS(App)</span></div>
                          <div class="legendBlue"><span>And(App)</span></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- //[2차BO] 20221020 수정 -->

              <!-- [2차BO] 20221020 표 삭제 
            <div class="boardContent rowFull">
              <div class="boardAreaBottom">
                <div class="tableContainer alignCenter">
                  <table>
                    <caption>주간 사이트 방문 현황 표 - 날짜, 사이트 방문, 신규 회원 방문, 기존 회원 방문, 1개월 이내, 3개월 이내, 6개월 이내, 6개월 이상</caption>
                    <colgroup>
                      <col>
                      <col>
                      <col>
                      <col>
                      <col>
                      <col>
                      <col>
                      <col>
                    </colgroup>
                    <thead>
                      <tr>
                        <th scope="col">날짜</th>
                        <th scope="col">사이트 방문</th>
                        <th scope="col">신규 회원 방문</th>
                        <th scope="col">기존 회원 방문</th>
                        <th scope="col">1개월 이내</th>
                        <th scope="col">3개월 이내</th>
                        <th scope="col">6개월 이내</th>
                        <th scope="col">6개월 이상</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2022-08-09</td>
                        <td>39</td>
                        <td>7</td>
                        <td>30</td>
                        <td>9</td>
                        <td>5</td>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div> -->
            </div>
          </div>
        </div>
        <!-- //END contentWrapper -->
      </main>
      <!-- //END contentContainer -->
    </div>
    <!-- //END wrap -->

    <!-- Start Script -->
    <script type="text/javascript" src="../../assets/js/chart.js-2.9.4.min.js"></script>
    <script>
      $(document).ready(function () {
        if ($('#datepicker-start-date').length > 0 && $('#datepicker-end-date').length > 0) {
          getMultiDatePicker('start', '#datepicker-start-date', '#datepicker-end-date', 'yyyy-mm-dd');
          getMultiDatePicker('end', '#datepicker-start-date', '#datepicker-end-date', 'yyyy-mm-dd');
        }
      });
    </script>
    <script>
      //---------- 일반회원 차트 ----------//

      var ctx = document.getElementById('userRate01').getContext('2d');
      var gradient = ctx.createLinearGradient(90, 90, 220, 220);
      gradient.addColorStop(0.0, '#33D3C2');
      gradient.addColorStop(1.0, '#1DAC9D');

      const data = {
        datasets: [
          {
            label: '조회 기간 가입 회원 기준',
            data: [50, 20], // 비율 : [ 일반회원, 일반 유심 ]
            backgroundColor: ['#33D3C2', '#FA9963'],
            borderWidth: 0,
            hoverOffset: 0,
          },
        ],
        labels: ['일반회원', '정회원'],
      };

      const config = {
        type: 'doughnut',
        data: data, // 상단에 있는 데이터
        options: {
          responsive: true, // 반응형 웹 대응
          borderWidth: 0, // 도넛을 구성하는 값과 값 사이의 외곽선 (현재는 외곽선을 뺌)
          cutoutPercentage: 65, // 도넛의 중심을 기준으로 하얀색 원을 몇 % 만큼 채울 것인지 입력 (0% 면 Pie 차트가 되고, 100% 면 차트가 안 보임)
          legend: {
            position: 'right',
            align: 'center',
            display: false,
            padding: 15,
            labels: {
              usePointStyle: true,
              boxWidth: 8,
              padding: 10,
              fontFamily: "'Roboto', 'Noto Sans KR', 'sans-serif'",
              fontSize: 11,
              fontColor: '#555555',
            },
          },
          tooltips: {
            callbacks: {
              label: function (tooltipItem, data) {
                var label = data.labels[tooltipItem.index];
                return label;
              },
            },
          },
        },
      };

      const myChart = new Chart(document.getElementById('userRate01'), config);
    </script>
    <script>
      //---------- 일반회원 차트 ----------//

      var ctx = document.getElementById('userRate02').getContext('2d');
      var gradient = ctx.createLinearGradient(90, 90, 220, 220);
      gradient.addColorStop(0.0, '#33D3C2');
      gradient.addColorStop(1.0, '#1DAC9D');

      const data2 = {
        datasets: [
          {
            label: '전체 회원 기준',
            data: [50, 20], // 비율 : [ 일반회원, 일반 유심 ]
            backgroundColor: ['#33D3C2', '#FA9963'],
            borderWidth: 0,
            hoverOffset: 0,
          },
        ],
        labels: ['일반회원', '정회원'],
      };

      const config2 = {
        type: 'doughnut',
        data: data2, // 상단에 있는 데이터
        options: {
          responsive: true, // 반응형 웹 대응
          borderWidth: 0, // 도넛을 구성하는 값과 값 사이의 외곽선 (현재는 외곽선을 뺌)
          cutoutPercentage: 65, // 도넛의 중심을 기준으로 하얀색 원을 몇 % 만큼 채울 것인지 입력 (0% 면 Pie 차트가 되고, 100% 면 차트가 안 보임)
          legend: {
            position: 'right',
            align: 'center',
            display: true,
            padding: 15,
            labels: {
              usePointStyle: true,
              boxWidth: 8,
              padding: 10,
              fontFamily: "'Roboto', 'Noto Sans KR', 'sans-serif'",
              fontSize: 11,
              fontColor: '#555555',
            },
          },
          tooltips: {
            callbacks: {
              label: function (tooltipItem, data) {
                var label = data.labels[tooltipItem.index];
                return label;
              },
            },
          },
        },
      };

      const myChart2 = new Chart(document.getElementById('userRate02'), config2);
    </script>
  </body>
</html>
