<!DOCTYPE html>
<html lang="ko">
  <!-- [접근성] title 수정 -->
  <!-- prettier-ignore -->
  @@include("head.html",{
    "title" : "e-Centric | FAQ"
  })

  <body>
    <!-- [240425] .skip-link 제거 -->
    <div class="wrapper">
      <!--
        class : page-faq
      -->
      <main class="main-container page-faq">
        <!-- prettier-ignore -->
        @@include("header.html", {
          "align" : "between",
          "logo" : false,
          "title" : {
            "show" : true,
            "text" : "FAQ",
          },
          "button" : null
        })

        <!-- content -->
        <!-- [접근성] 태그변경 -->
        <section id="contentSection" class="content-container">
          <div class="content-area">
            <div class="faq-container">
              <div class="faq-area">
                <div class="faq-top">
                  <!-- [접근성] - 속성 추가 -->
                  <h2 class="ir" aria-hidden="true">검색어</h2>
                  <div class="search-field">
                    <!-- prettier-ignore -->
                    @@include("text_field.html", {
                      "className" : "",
                      "size" : "",
                      "label" : "검색어를 입력하세요.",
                      "labelHide" : true,
                      "type" : "search",
                      "id" : "search",
                      "placeholder" : "검색어를 입력하세요.",
                      "value" : "",
                      "icon" : "",
                      "button" : "",
                      "property" : "",
                      "desc" : "",
                      "loading" : false,
                    })
                  </div>
                </div>

                <div class="faq-middle">
                  <div class="faq-filter-box">
                    <div class="filter-title-box">
                      <h2 class="title">질문 유형을 선택해주세요.</h2>
                    </div>
                    <!-- [접근성] - 속성 추가 -->
                    <div class="filter-list-box" role="tablist" aria-label="카테고리 목록">
                      <!-- [접근성] - button 속성 추가 -->
                      <!-- .active : 선택 된 경우 부여 함 -->
                      <!-- prettier-ignore -->
                      @@loop("button.html", [ 
                        {
                          "property": 'role="tab" aria-selected="true" aria-label="전체"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter active',
                          "text": "전체"
                        },
                        {
                          "property": 'role="tab" aria-selected="false" aria-label="TOP10"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter',
                          "text": "TOP10"
                        },
                        {
                          "property": 'role="tab" aria-selected="false" aria-label="카테고리"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter',
                          "text": "카테고리"
                        },
                        {
                          "property": 'role="tab" aria-selected="false" aria-label="카테고리"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter',
                          "text": "카테고리"
                        },
                        {
                          "property": 'role="tab" aria-selected="false" aria-label="카테고리"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter',
                          "text": "카테고리"
                        },
                        {
                          "property": 'role="tab" aria-selected="false" aria-label="카테고리"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter',
                          "text": "카테고리"
                        },
                        {
                          "property": 'role="tab" aria-selected="false" aria-label="카테고리"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter',
                          "text": "카테고리"
                        },
                        {
                          "property": 'role="tab" aria-selected="false" aria-label="카테고리"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter',
                          "text": "카테고리"
                        },
                        {
                          "property": 'role="tab" aria-selected="false" aria-label="카테고리"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter',
                          "text": "카테고리"
                        },
                        {
                          "property": 'role="tab" aria-selected="false" aria-label="카테고리"',
                          "iconClass": false,
                          "btnColor" : 'btn-secondary',
                          "btnSize" : 'medium',
                          "class" : 'btn-filter',
                          "text": "카테고리"
                        },
                      ])
                    </div>
                  </div>

                  <!-- [접근성] 속성 추가 -->
                  <div role="tabpanel" class="faq-content-box">
                    <div class="faq-content-box-top">
                      <!-- [접근성] - 속성 추가 -->
                      <h2 class="ir" aria-hidden="true">질문 리스트</h2>
                      <div class="label-box">
                        <!-- [접근성] - 구조 변경 -->
                        <span class="label">FAQ</span>
                        <span class="separator" aria-hidden="true"> ></span>
                        <span class="count">전체 30건</span>
                      </div>
                    </div>
                    <div class="faq-content-box-middle">
                      <!-- accordion start -->
                      <div class="accordion-contaniner">
                        <div class="accordion-area">
                          <!-- prettier-ignore -->
                          @@loop("accordion.html", [
                          {
                            "class": "",
                            "titleId" : "title-1",
                            "accordionTitle" : "[카테고리] FAQ 질문이 노출됩니다. [카테고리] FAQ 질문이 노출됩니다. [카테고리] FAQ 질문이 노출됩니다. [카테고리] FAQ 질문이 노출됩니다. [카테고리] FAQ 질문이 노출됩니다.",
                            "contentId" : "content-1",
                            "accordionContent" : "답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. ",
                          },
                          {
                            "class": "",
                            "titleId" : "title-2",
                            "accordionTitle" : "[카테고리] FAQ 질문이 노출됩니다.",
                            "contentId" : "content-2",
                            "accordionContent" : "답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. ",
                          },
                          {
                            "class": "",
                            "titleId" : "title-3",
                            "accordionTitle" : "[카테고리] FAQ 질문이 노출됩니다.",
                            "contentId" : "content-3",
                            "accordionContent" : "답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. ",
                          },
                          {
                            "class": "",
                            "titleId" : "title-4",
                            "accordionTitle" : "[카테고리] FAQ 질문이 노출됩니다.",
                            "contentId" : "content-4",
                            "accordionContent" : "답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. ",
                          },
                          {
                            "class": "",
                            "titleId" : "title-5",
                            "accordionTitle" : "[카테고리] FAQ 질문이 노출됩니다.",
                            "contentId" : "content-5",
                            "accordionContent" : "답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. ",
                          },
                          {
                            "class": "",
                            "titleId" : "title-6",
                            "accordionTitle" : "[카테고리] FAQ 질문이 노출됩니다.",
                            "contentId" : "content-6",
                            "accordionContent" : "답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. ",
                          },
                          {
                            "class": "",
                            "titleId" : "title-7",
                            "accordionTitle" : "[카테고리] FAQ 질문이 노출됩니다.",
                            "contentId" : "content-7",
                            "accordionContent" : "답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. ",
                          },
                          {
                            "class": "",
                            "titleId" : "title-8",
                            "accordionTitle" : "[카테고리] FAQ 질문이 노출됩니다.",
                            "contentId" : "content-8",
                            "accordionContent" : "답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. ",
                          },
                          {
                            "class": "",
                            "titleId" : "title-9",
                            "accordionTitle" : "[카테고리] FAQ 질문이 노출됩니다.",
                            "contentId" : "content-9",
                            "accordionContent" : "답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. 답변 내용이 노출됩니다. ",
                          },
                          ])
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>
    <!-- [접근성] : 아코디언 예시 -->
    <script>
      const accordions = document.querySelectorAll('.accordion-box');

      accordions.forEach((accordion) => {
        const button = accordion.querySelector('.accordion-title');
        const content = accordion.querySelector('.accordion-content');

        button.addEventListener('click', () => {
          const expanded = button.getAttribute('aria-expanded') === 'true';

          button.setAttribute('aria-expanded', !expanded);
          button.classList.toggle('active');

          if (!expanded) {
            content.setAttribute('tabindex', '-1');
            content.focus();
          } else {
            content.removeAttribute('tabindex');
          }
        });

        content.addEventListener('transitionend', () => {
          if (button.classList.contains('active')) {
            content.setAttribute('aria-hidden', 'false');
          } else {
            content.setAttribute('aria-hidden', 'true');
          }
        });
      });
    </script>
  </body>
</html>
