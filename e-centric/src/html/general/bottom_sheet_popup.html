<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta http-equiv="cache-control" content="no-cache" />
    <!-- <link rel="icon" type="image/png" href="../../assets/images/favicon/favicon.ico" /> -->
    <link rel="stylesheet" href="../../assets/css/style.css" />
    <link rel="stylesheet" href="../../assets/css/general.css" />
    <script src="../../assets/js/bundle.js"></script>
    <title>BottomSheetPopup</title>
  </head>

  <body>
    <div class="general-wrapper">
      <div class="general-wrapper">
        <div class="general-container">
          <div class="general-area">
            <div class="general-top">
              <div class="general-label">Component</div>
              <div class="general-title">BottomSheetPopup</div>
            </div>
            <div class="general-middle">
              <div class="general-content">
                <div class="content-box">
                  <!-- [접근성] 팝업 열기 버튼 예시 -->
                  <button id="openPopupButton" style="padding: 20px; background-color: black; color: #fff">Open Modal Popup</button>

                  <dialog class="bottom-sheet-popup" id="popup-alert">
                    <div class="bottom-sheet-popup-container" tabindex="0">
                      <div class="bottom-sheet-popup-area">
                        <div class="bottom-sheet-popup-top">
                          <div id="bottom-sheet-popup-title" class="bottom-sheet-popup-title">titletitle</div>
                        </div>
                        <div class="bottom-sheet-popup-middle">
                          <!-- 내용작성 -->
                        </div>
                        <div class="bottom-sheet-popup-bottom">
                          <!-- prettier-ignore -->
                          @@loop("button.html",[
                            {
                              "property": "",
                              "iconClass": false,
                              "btnColor" : 'btn-secondary',
                              "btnSize" : 'large',
                              "class" : '',
                              "text": "취소"
                            },
                            {
                              "property": "",
                              "iconClass": false,
                              "btnColor" : 'btn-primary',
                              "btnSize" : 'large',
                              "class" : '',
                              "text": "다음"
                            },
                          ])
                        </div>
                      </div>
                    </div>
                  </dialog>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- [접근성] 팝업 스크립트 예시 -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const openPopupButton = document.getElementById('openPopupButton');
        const popup = document.querySelector('dialog');
        const closePopupButton = popup.querySelector('.btn-secondary');
        openPopupButton.addEventListener('click', function () {
          popup.showModal();
          popup.focus();
          openPopupButton.removeAttribute('tabindex');
        });
        if (closePopupButton) {
          closePopupButton.addEventListener('click', function () {
            popup.close();
            openPopupButton.focus();
            openPopupButton.setAttribute('tabindex', '-1');
          });
        }
        popup.addEventListener('click', (event) => {
          if (event.target.nodeName === 'DIALOG') {
            popup.close();
          }
        });
      });
    </script>
  </body>
</html>
